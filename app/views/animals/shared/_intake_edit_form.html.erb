<%# app/views/animals/_form.html.erb %>

<% if f.object.errors.any? %>
  <div class="mb-4 rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-800">
    <h2 class="font-semibold mb-1">
      <%= pluralize(f.object.errors.count, "error") %> prevented this animal from being saved:
    </h2>
    <ul class="list-disc list-inside">
      <% f.object.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="space-y-4">
  <div>
    <%= f.label :name, class: "block text-sm font-medium text-slate-700" %>
    <%= f.text_field :name, class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <%= f.label :age_years, "Age (years)", class: "block text-sm font-medium text-slate-700" %>
      <%= f.number_field :age_years, min: 0, class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    </div>
    <div>
      <%= f.label :age_months, "Age (months)", class: "block text-sm font-medium text-slate-700" %>
      <%= f.number_field :age_months, min: 0, max: 11, class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <%= f.label :species, class: "block text-sm font-medium text-slate-700" %>
      <%= f.select :species,
                   Animal::SPECIES.map { |s| [s.humanize, s] },
                   { prompt: "Select species" },
                   class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    </div>
    <div>
      <%= f.label :sex, class: "block text-sm font-medium text-slate-700" %>
      <%= f.select :sex,
                   Animal::SEXES.map { |s| [s.humanize, s] },
                   { prompt: "Select sex" },
                   class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <%= f.label :weight, "Weight", class: "block text-sm font-medium text-slate-700" %>
      <%= f.number_field :weight, step: 0.1, min: 0,
                        class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    </div>
    <div class="flex items-center gap-2 mt-6">
      <%= f.check_box :microchipped, class: "rounded border-slate-300" %>
      <%= f.label :microchipped, "Microchipped", class: "text-sm font-medium text-slate-700" %>
    </div>
  </div>

  <div>
    <%= f.label :temperament_tags, "Temperament / Compatibility",
                class: "block text-sm font-medium text-slate-700" %>
    <%= f.select :temperament_tags,
                 Animal::TEMPERAMENT_TAGS.map { |t| [t.tr("_", " "), t] },
                 {},
                 multiple: true,
                 class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
    <p class="mt-1 text-xs text-slate-500">
      Hold Cmd (Mac) or Ctrl (Windows) to select multiple.
    </p>
  </div>

  <div>
    <%= f.label :bio, class: "block text-sm font-medium text-slate-700" %>
    <%= f.text_area :bio, rows: 4,
                    class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm" %>
  </div>

  <div class="pt-2">
    <%= f.submit class: "inline-flex items-center px-4 py-2 rounded-xl bg-slate-900 text-sm font-medium text-white shadow-sm hover:bg-slate-800" %>
  </div>
</div>
